(function(e){e.fn.extend({hb_stream:function(t){function r(t,n){var r=t.feed;if(!r){return false}var i="";i+="<ul>";for(var s=0;s<r.entries.length;s++){var o=r.entries[s];var u=o.content;i+="<li>"+u+"</li>"}i+="</ul>";e(n).html(i);e(n).find("li").each(function(){pin_img_src=e(this).find("img").attr("src");pin_url="http://www.pinterest.com"+e(this).find("a").attr("href");pin_desc=e(this).find("p:nth-child(2)").html();pin_desc=pin_desc.replace("'","`");e(this).empty();e(this).append("<a target='_blank' href='"+pin_url+"' title='"+pin_desc+"'><img src='"+pin_img_src+"' alt=''></a>");var t=e(this).find("img").width();var n=e(this).find("img").height()})}var n={username:"envato",limit:10,social_network:"dribbble"};var t=e.extend(n,t);return this.each(function(){var n=t;var i=e(this);if(n.social_network=="dribbble"){i.append("<ul></ul>");e.getJSON("http://dribbble.com/"+n.username+"/shots.json?callback=?",function(t){e.each(t.shots,function(t,r){if(t<n.limit){var s=r.title;s=s.replace("'","`");var o=e("<img/>").attr({src:r.image_teaser_url,alt:s});var u=e("<a/>").attr({href:r.url,target:"_blank",title:s});var a=e(u).append(o);var f=e("<li/>").append(a);e("ul",i).append(f)}});e("li img",i).each(function(){var t=e(this).width();var n=e(this).height();if(t<n){e(this).addClass("portrait")}else{e(this).addClass("landscape")}})})}if(n.social_network=="pinterest"){var s="http://pinterest.com/"+n.username+"/feed.rss";var o="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+encodeURIComponent(s);o+="&num="+n.limit;o+="&output=json_xml";e.getJSON(o,function(e){if(e.responseStatus==200){r(e.responseData,i)}else{alert("Whoops. Wrong Pinterest Username.")}})}if(n.social_network=="flickr"){i.append("<ul></ul>");e.getJSON("http://api.flickr.com/services/rest/?method=flickr.people.findByUsername&username="+n.username+"&format=json&api_key=85145f20ba1864d8ff559a3971a0a033&jsoncallback=?",function(t){var r=t.user.nsid;e.getJSON("http://api.flickr.com/services/rest/?method=flickr.photos.search&user_id="+r+"&format=json&api_key=85145f20ba1864d8ff559a3971a0a033&per_page="+n.limit+"&page=1&extras=url_sq&jsoncallback=?",function(t){e.each(t.photos.photo,function(t,n){var r=n.owner;var s=n.title;var o=n.url_sq;var u=n.id;var a="http://www.flickr.com/photos/"+r+"/"+u;var f=e("<img/>").attr({src:o,alt:s});var l=e("<a/>").attr({href:a,target:"_blank",title:s});var c=e(l).append(f);var h=e("<li/>").append(c);e("ul",i).append(h)})})})}if(n.social_network=="instagram"){i.append("<ul></ul>");var u="188312888.f79f8a6.1b920e7f642b4693a4cb346162bf7154";s="https://api.instagram.com/v1/users/search?q="+n.username+"&access_token="+u+"&count=1&callback=?";e.getJSON(s,function(t){e.each(t.data,function(t,r){var o=r.username;if(o==n.username){var a=r.id;if(a!=""){s="https://api.instagram.com/v1/users/"+a+"/media/recent/?access_token="+u+"&count="+n.limit+"&callback=?";e.getJSON(s,function(t){e.each(t.data,function(t,n){var r=n.images.thumbnail.url;var s=n.link;var o="";if(n.caption!=null){o=n.caption.text}var u=e("<img/>").attr({src:r,alt:o});var a=e("<a/>").attr({href:s,target:"_blank",title:o});var f=e(a).append(u);var l=e("<li/>").append(f);e("ul",i).append(l)})})}}})})}})}})})(jQuery)